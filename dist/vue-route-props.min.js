!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueChronos=t()}(this,(function(){"use strict";const e="object"==typeof process&&"object"==typeof process.env&&"production"!==process.env.NODE_ENV,t=(e,t)=>{console.error("[VueRouteProps warn]: ",e,t)},o=e=>({}.toString.call(e)),r=()=>({data(){return u({routeProps:this.$options.routeProps,route:this.$route,context:this})},watch:{$route(){const e=u({routeProps:this.$options.routeProps,route:this.$route,context:this});for(const t in this.$options.routeProps)this[t]=e[t]}}}),u=({routeProps:t,route:o,context:r})=>{const u={};for(const l in t){const c=n({routeProps:t,key:l}),s=o.query.hasOwnProperty(l)?JSON.parse(o.query[l]):void 0;e&&i({routeProps:t,key:l,value:s,context:r}),u[l]=s,void 0===s&&(u[l]=c.default())}return u},n=({routeProps:e,key:t})=>{const r={default:()=>{},required:!1,type:[],validator:()=>!0},u=e[t];return"[object Array]"===o(u)?r.type=u:"[object String]"===o(u)?r.type=[u]:"[object Object]"===o(u)&&("[object Array]"===o(u.type)?r.type=u.type:void 0!==u.type&&(r.type=[u.type]),"[object Boolean]"===o(u.required)&&(r.required=u.required),"[object Function]"===o(u.validator)&&(r.validator=u.validator),"[object Function]"===o(u.default)?r.default=u.default:void 0!==o(u.default)&&(r.default=()=>u.default)),r},i=({routeProps:e,key:t,value:o,context:r})=>{l({routeProps:e,key:t,context:r});const u=n({routeProps:e,key:t});c({normalizedProp:u,key:t,value:o,context:r}),s({normalizedProp:u,key:t,value:o,context:r}),a({normalizedProp:u,key:t,value:o,context:r})},l=({routeProps:e,key:r,context:u})=>{const n=e[r];"[object Object]"===o(n)&&"object"==typeof e[r].default&&null!==e[r].default&&t(`Invalid default value for routeProp "${r}": routeProps with type Object/Array must use a factory function to return the default value.`,u)},c=({normalizedProp:e,key:o,value:r,context:u})=>{e.required&&void 0===r&&t(`Missing required routeProp: "${o}"`,u)},s=({normalizedProp:e,key:r,value:u,context:n})=>{let i=!1;if(void 0===(u=void 0!==u?u:e.default())&&!1===e.required)i=!0;else if(null===u&&!0===e.type.includes(null))i=!0;else if(null!=u){for(const t of e.type.filter(e=>null!==e))i=i||Object.getPrototypeOf(u).constructor===t;0===e.type.length&&(i=!0)}if(!1===i){const i=[];for(const t of e.type)null===t?i.push("null"):i.push(/function ([^(]+)/.exec(t.toString())[1]);const l=o(u).slice(8,-1);u=void 0===u?"undefined":JSON.stringify(u),t(`Invalid routeProp: type check failed for routeProp "${r}". Expected ${i.join(", ")}, got ${l} with value ${u}.`,n)}},a=({normalizedProp:e,key:o,value:r,context:u})=>{r=void 0!==r?r:e.default(),!1===e.validator(r,o)&&t(`Invalid routeProp: custom validator check failed for routeProp "${o}".`,u)};return{install:function(e){e.mixin(r())}}}));
